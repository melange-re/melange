// Generated by Melange
'use strict';

let Caml_oo_curry = require("melange.js/caml_oo_curry.js");
let CamlinternalOO = require("melange/camlinternalOO.js");
let Curry = require("melange.js/curry.js");
let Mt = require("./mt.js");

let shared = [
  "m1",
  "m2"
];

let suites = {
  contents: /* [] */0
};

let test_id = {
  contents: 0
};

function eq(loc, x, y) {
  Mt.eq_suites(test_id, suites, loc, x, y);
}

let object_tables = /* Cons */{
  key: undefined,
  data: undefined,
  next: undefined
};

let object_tables$1 = /* Cons */{
  key: undefined,
  data: undefined,
  next: undefined
};

function a_init($$class) {
  let ids = CamlinternalOO.get_method_labels($$class, [
        "m2",
        "m1"
      ]);
  let m2 = ids[0];
  let m1 = ids[1];
  CamlinternalOO.set_methods($$class, [
        m1,
        (function (self$1) {
            if (!object_tables$1.key) {
              let $$class = CamlinternalOO.create_table(["m3"]);
              let m3 = CamlinternalOO.get_method_label($$class, "m3");
              CamlinternalOO.set_method($$class, m3, (function (self$2) {
                      return 3;
                    }));
              let env_init = function (env) {
                return CamlinternalOO.create_object_opt(undefined, $$class);
              };
              CamlinternalOO.init_class($$class);
              object_tables$1.key = env_init;
            }
            return Curry._1(object_tables$1.key, undefined);
          }),
        m2,
        (function (self$1) {
            if (!object_tables.key) {
              let $$class = CamlinternalOO.create_table(["m4"]);
              let env = CamlinternalOO.new_variable($$class, "");
              let m4 = CamlinternalOO.get_method_label($$class, "m4");
              CamlinternalOO.set_method($$class, m4, (function (self$3) {
                      let env$1 = self$3[env];
                      let tmp = env$1[1];
                      return Curry._1(tmp[0][env$1[0]], tmp);
                    }));
              let env_init = function (env$1) {
                let self = CamlinternalOO.create_object_opt(undefined, $$class);
                self[env] = env$1;
                return self;
              };
              CamlinternalOO.init_class($$class);
              object_tables.key = env_init;
            }
            return Curry._1(object_tables.key, [
                        m1,
                        self$1
                      ]);
          })
      ]);
  return function (env, self) {
    return CamlinternalOO.create_object_opt(self, $$class);
  };
}

let a = CamlinternalOO.make_class(shared, a_init);

function b_init($$class) {
  let ids = CamlinternalOO.get_method_labels($$class, [
        "m2",
        "m1",
        "a_text"
      ]);
  let a_text = ids[2];
  let inh = CamlinternalOO.inherits($$class, 0, 0, shared, a, true);
  let obj_init = inh[0];
  CamlinternalOO.set_method($$class, a_text, (function (self$4, param) {
          
        }));
  return function (env, self) {
    let self$1 = CamlinternalOO.create_object_opt(self, $$class);
    Curry._1(obj_init, self$1);
    return CamlinternalOO.run_initializers_opt(self, self$1, $$class);
  };
}

let b = CamlinternalOO.make_class([
      "a_text",
      "m1",
      "m2"
    ], b_init);

let tmp = Curry._1(a[0], undefined);

Caml_oo_curry.js1(24357, 1, tmp);

let tmp$1 = Curry._1(b[0], undefined);

let tmp$2 = Caml_oo_curry.js1(24357, 2, tmp$1);

let tmp$3 = Caml_oo_curry.js1(24359, 3, tmp$2);

eq("File \"jscomp/test/opr_3576_test.ml\", line 22, characters 6-13", Caml_oo_curry.js1(24358, 4, tmp$3), 3);

Mt.from_pair_suites("jscomp/test/opr_3576_test.ml", suites.contents);

exports.suites = suites;
exports.test_id = test_id;
exports.eq = eq;
exports.a = a;
exports.b = b;
/* a Not a pure module */
