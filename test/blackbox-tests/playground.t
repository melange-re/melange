Prepare an input file to test some snippets to exercise common functionality

  $ cat > input.js <<EOF
  > require(process.env.DUNE_SOURCEROOT + '/_build/default/bin/jsoo_main.bc.js');
  > require(process.env.DUNE_SOURCEROOT + '/_build/default/bin/stdlib-cmijs.js');
  > require(process.env.DUNE_SOURCEROOT + '/_build/default/bin/runtime-cmijs.js');
  > require(process.env.DUNE_SOURCEROOT + '/_build/default/bin/belt-cmijs.js');
  > console.log(ocaml.compileML("let t = 1"));
  > console.log(ocaml.compileML(\`let john = [%bs.obj { name = "john"; age = 99 }] let t = john##name\`));
  > console.log(ocaml.compileML(\`let foo = Belt.List.map\`));
  > console.log(ocaml.compileML(\`let +foo\`));
  > console.log(ocaml.compileML(\`let foo = "" + 2\`));
  > console.log(ocaml.compileML(\`type person = {
  >   name: string ;
  >   age: int
  > }[@@deriving abstract]
  > 
  > let person1: person = person ~name:"joe" ~age:10\`));
  > console.log(ocaml.printML(ocaml.parseRE(\`let foo = <div />\`)));
  > console.log(ocaml.printML(ocaml.parseRE("//")));
  > console.log(ocaml.compileML("let t = [%bs.obj 2]"));
  > try { ocaml.parseRE("type t = 2") } catch (e) { console.log(e); };
  > console.log(ocaml.compileRE("let t = 1;"));
  > console.log(ocaml.compileRE("let sum = item => swiftch (item) { | Leaf => 0 };")); // Some Reason errors dont have locations
  > console.log(ocaml.compileRE("let sum = item => swiftch (item) { 2 };")); // but some do
  > EOF

  $ node input.js
  {
    js_code: '// Generated by Melange\n' +
      '\n' +
      '\n' +
      'var t = 1;\n' +
      '\n' +
      'export {\n' +
      '  t ,\n' +
      '}\n' +
      '/* No side effect */\n'
  }
  {
    js_code: '// Generated by Melange\n' +
      '\n' +
      '\n' +
      'var john = {\n' +
      '  name: "john",\n' +
      '  age: 99\n' +
      '};\n' +
      '\n' +
      'var t = john.name;\n' +
      '\n' +
      'export {\n' +
      '  john ,\n' +
      '  t ,\n' +
      '}\n' +
      '/* t Not a pure module */\n'
  }
  {
    js_code: '// Generated by Melange\n' +
      '\n' +
      'import * as Belt_List from "melange.belt/belt_List.js";\n' +
      '\n' +
      'var foo = Belt__Belt_List.map;\n' +
      '\n' +
      'export {\n' +
      '  foo ,\n' +
      '}\n' +
      '/* No side effect */\n'
  }
  {
    js_error_msg: 'Line 1, 5:\n  Error Syntax error',
    row: 0,
    column: 5,
    endRow: 0,
    endColumn: 8,
    text: 'Syntax error',
    type: 'error'
  }
  {
    js_error_msg: 'Line 1, 10:\n' +
      '  Error This expression has type string but an expression was expected of type int',
    row: 0,
    column: 10,
    endRow: 0,
    endColumn: 12,
    text: 'This expression has type string but an expression was expected of type int',
    type: 'error'
  }
  {
    js_code: '// Generated by Melange\n' +
      '\n' +
      '\n' +
      'var person1 = {\n' +
      '  name: "joe",\n' +
      '  age: 10\n' +
      '};\n' +
      '\n' +
      'export {\n' +
      '  person1 ,\n' +
      '}\n' +
      '/* No side effect */\n'
  }
  let foo = ((div ~children:[] ())[@JSX ])
  
  { js_error_msg: 'Expect a record expression here' }
  {
    message: 'File "_none_", line 1, characters 9-10:\nError: Syntax error\n\n',
    location: {
      startLine: 1,
      startLineStartChar: 10,
      endLine: 1,
      endLineEndChar: 10
    }
  }
  {
    js_code: '// Generated by Melange\n' +
      '\n' +
      '\n' +
      'var t = 1;\n' +
      '\n' +
      'export {\n' +
      '  t ,\n' +
      '}\n' +
      '/* No side effect */\n'
  }
  {
    js_error_msg: 'File "_none_", line 1, characters 35-36:\n' +
      'Error: Unclosed "{" (opened line 1, column 33)\n' +
      '\n'
  }
  {
    js_error_msg: 'Line 1, 18:\n  Error Unbound value swiftch',
    row: 0,
    column: 18,
    endRow: 0,
    endColumn: 25,
    text: 'Unbound value swiftch',
    type: 'error'
  }
